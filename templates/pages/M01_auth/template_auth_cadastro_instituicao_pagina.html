<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="SIGMA/PLI - Sistema de Gerenciamento de Cadastros" name="description">
  <meta content="VPC-GEOSER" name="author">
  <title>Cadastro de Instituição - SIGMA-PLI | Módulo de Gerenciamento de Cadastros</title>

  <!-- Bootstrap & FontAwesome -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">

  <!-- SIGMA Styles -->
  <link href="/static/css/style_global_reset_base.css" rel="stylesheet">
  <link href="/static/css/M02_dashboard/style_dashboard_layout_base.css" rel="stylesheet">
  <link href="/static/css/M00_home/style_home_navigation.css" rel="stylesheet">
  <link href="/static/css/M01_auth/style_auth_cadastro_pessoa_juridica.css" rel="stylesheet">
</head>

<body class="has-fixed-header cadastro-pessoa-juridica__p-cadastro-pessoa-fisica--body pli-form-page">

  <!-- SIGMA Header -->
  <header class="dashboard-header">
    <nav class="sigma-nav">
      <div class="header-brand">
        <span class="brand-title">SIGMA-PLI</span>
        <span class="brand-subtitle">Módulo de Gerenciamento de Cadastros</span>
      </div>
      <div class="nav-menu">
        <a href="/auth" class="nav-link">Início</a>
        <a href="/auth/login" class="nav-link">Login</a>
        <a href="/" class="nav-link">Home SIGMA</a>
      </div>
    </nav>
  </header>

  <!-- Área Central -->
  <main class="flex-grow-1 py-5">
    <div class="container pli-main-content">
      <!--Título da Página-->
      <div class="row mb-4">
        <div class="col-12">
          <div class="text-center">
            <h1 class="mb-0 pli-title">
              <i class="fas fa-building me-2 text-pli-primary"></i>
              Cadastro de Instituição
            </h1>
            <p class="text-muted">
              Preencha o formulário abaixo para solicitar o cadastro da sua instituição no sistema
            </p>
          </div>
        </div>
      </div>

      <!-- Formulário -->
      <div class="row justify-content-center">
        <div class="col-12">
          <form id="instituicaoForm" novalidate="">

            <!-- Dados da Empresa -->
            <div class="form-section">
              <div class="form-section-header">
                <i class="fas fa-building me-2"></i>
                Dados da Empresa
              </div>
              <div class="form-section-body">
                <div class="row g-3">
                  <div class="col-md-8">
                    <label class="form-label cadastro-pessoa-juridica__required-field--label" for="razaoSocial">
                      Razão Social
                    </label>
                    <input class="form-control" id="razaoSocial" name="razao_social" required="" type="text">
                    <div class="invalid-feedback">Por favor, informe a razão social.</div>
                  </div>
                  <div class="col-md-4">
                    <label class="form-label cadastro-pessoa-juridica__required-field--label" for="cnpj">CNPJ</label>
                    <input class="form-control" id="cnpj" name="cnpj" required="" type="text" maxlength="18"
                      placeholder="00.000.000/0000-00">
                    <div class="invalid-feedback">Por favor, informe um CNPJ válido.</div>
                  </div>
                  <div class="col-md-8">
                    <label class="form-label" for="nomeFantasia">Nome Fantasia</label>
                    <input class="form-control" id="nomeFantasia" name="nome_fantasia" type="text">
                  </div>
                  <div class="col-md-4">
                    <label class="form-label" for="sigla">Sigla</label>
                    <input class="form-control" id="sigla" name="sigla" type="text" maxlength="10">
                  </div>
                  <div class="col-md-3">
                    <label class="form-label" for="porteEmpresa">Porte da Empresa</label>
                    <select class="form-select" id="porteEmpresa" name="porte_empresa">
                      <option value="">Selecione</option>
                      <option value="MEI">MEI - Microempreendedor Individual</option>
                      <option value="ME">ME - Microempresa</option>
                      <option value="EPP">EPP - Empresa de Pequeno Porte</option>
                      <option value="MEDIO">Médio Porte</option>
                      <option value="GRANDE">Grande Porte</option>
                    </select>
                  </div>
                  <div class="col-md-3">
                    <label class="form-label" for="tipo">Tipo de Instituição</label>
                    <select class="form-select" id="tipo" name="tipo">
                      <option value="">Selecione</option>
                      <option value="PUBLICA">Pública</option>
                      <option value="PRIVADA">Privada</option>
                      <option value="MISTA">Mista</option>
                      <option value="ONG">ONG</option>
                      <option value="ASSOCIACAO">Associação</option>
                    </select>
                  </div>
                  <div class="col-md-3">
                    <label class="form-label" for="dataAbertura">Data de Abertura</label>
                    <input class="form-control" id="dataAbertura" name="data_abertura" type="date">
                  </div>
                  <div class="col-md-3">
                    <label class="form-label" for="situacaoReceitaFederal">Situação na Receita Federal</label>
                    <input class="form-control" id="situacaoReceitaFederal" name="situacao_receita_federal" type="text"
                      value="ATIVA" readonly>
                  </div>
                </div>
              </div>
            </div>

            <!-- Informações Fiscais -->
            <div class="form-section">
              <div class="form-section-header">
                <i class="fas fa-file-invoice-dollar me-2"></i>
                Informações Fiscais
              </div>
              <div class="form-section-body">
                <div class="row g-3">
                  <div class="col-md-4">
                    <label class="form-label" for="inscricaoEstadual">Inscrição Estadual</label>
                    <input class="form-control" id="inscricaoEstadual" name="inscricao_estadual" type="text">
                  </div>
                  <div class="col-md-4">
                    <label class="form-label" for="inscricaoMunicipal">Inscrição Municipal</label>
                    <input class="form-control" id="inscricaoMunicipal" name="inscricao_municipal" type="text">
                  </div>
                  <div class="col-md-4">
                    <label class="form-label" for="naturezaJuridica">Natureza Jurídica</label>
                    <input class="form-control" id="naturezaJuridica" name="natureza_juridica" type="text"
                      placeholder="Ex: Sociedade Empresária Limitada">
                  </div>
                  <div class="col-md-4">
                    <label class="form-label" for="regimeTributario">Regime Tributário</label>
                    <select class="form-select" id="regimeTributario" name="regime_tributario">
                      <option value="">Selecione</option>
                      <option value="SIMPLES_NACIONAL">Simples Nacional</option>
                      <option value="LUCRO_PRESUMIDO">Lucro Presumido</option>
                      <option value="LUCRO_REAL">Lucro Real</option>
                      <option value="MEI">MEI</option>
                    </select>
                  </div>
                </div>
              </div>
            </div>

            <!-- Contato -->
            <div class="form-section">
              <div class="form-section-header">
                <i class="fas fa-phone me-2"></i>
                Contato
              </div>
              <div class="form-section-body">
                <div class="row g-3">
                  <div class="col-md-6">
                    <label class="form-label cadastro-pessoa-juridica__required-field--label" for="email">Email
                      Principal</label>
                    <input class="form-control" id="email" name="email" required="" type="email">
                    <div class="invalid-feedback">Por favor, informe um email válido.</div>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label" for="emailSecundario">Email Secundário</label>
                    <input class="form-control" id="emailSecundario" name="email_secundario" type="email">
                  </div>
                  <div class="col-md-3">
                    <label class="form-label cadastro-pessoa-juridica__required-field--label" for="telefone">Telefone
                      Principal</label>
                    <input class="form-control" id="telefone" name="telefone" required="" type="text"
                      placeholder="(00) 0000-0000">
                    <div class="invalid-feedback">Por favor, informe um telefone válido.</div>
                  </div>
                  <div class="col-md-3">
                    <label class="form-label" for="telefoneSecundario">Telefone Secundário</label>
                    <input class="form-control" id="telefoneSecundario" name="telefone_secundario" type="text"
                      placeholder="(00) 0000-0000">
                  </div>
                  <div class="col-md-6">
                    <label class="form-label" for="site">Site</label>
                    <input class="form-control" id="site" name="site" type="url"
                      placeholder="https://www.exemplo.com.br">
                  </div>
                </div>
              </div>
            </div>

            <!-- Endereço -->
            <div class="form-section">
              <div class="form-section-header">
                <i class="fas fa-map-marker-alt me-2"></i>
                Endereço
              </div>
              <div class="form-section-body">
                <div class="row g-3">
                  <div class="col-md-3">
                    <label class="form-label cadastro-pessoa-juridica__required-field--label" for="cep">CEP</label>
                    <input class="form-control" id="cep" name="cep" required="" type="text" maxlength="9"
                      placeholder="00000-000">
                    <div class="invalid-feedback">Por favor, informe um CEP válido.</div>
                  </div>
                  <div class="col-md-6">
                    <label class="form-label cadastro-pessoa-juridica__required-field--label"
                      for="logradouro">Logradouro</label>
                    <input class="form-control" id="logradouro" name="logradouro" required="" type="text">
                    <div class="invalid-feedback">Por favor, informe o logradouro.</div>
                  </div>
                  <div class="col-md-3">
                    <label class="form-label cadastro-pessoa-juridica__required-field--label"
                      for="numero">Número</label>
                    <input class="form-control" id="numero" name="numero" required="" type="text">
                    <div class="invalid-feedback">Por favor, informe o número.</div>
                  </div>
                  <div class="col-md-4">
                    <label class="form-label" for="complemento">Complemento</label>
                    <input class="form-control" id="complemento" name="complemento" type="text">
                  </div>
                  <div class="col-md-4">
                    <label class="form-label cadastro-pessoa-juridica__required-field--label"
                      for="bairro">Bairro</label>
                    <input class="form-control" id="bairro" name="bairro" required="" type="text">
                    <div class="invalid-feedback">Por favor, informe o bairro.</div>
                  </div>
                  <div class="col-md-4">
                    <label class="form-label cadastro-pessoa-juridica__required-field--label"
                      for="cidade">Cidade</label>
                    <input class="form-control" id="cidade" name="cidade" required="" type="text">
                    <div class="invalid-feedback">Por favor, informe a cidade.</div>
                  </div>
                  <div class="col-md-4">
                    <label class="form-label cadastro-pessoa-juridica__required-field--label" for="uf">UF</label>
                    <select class="form-select" id="uf" name="uf" required="">
                      <option value="">Selecione</option>
                      <option value="AC">AC</option>
                      <option value="AL">AL</option>
                      <option value="AP">AP</option>
                      <option value="AM">AM</option>
                      <option value="BA">BA</option>
                      <option value="CE">CE</option>
                      <option value="DF">DF</option>
                      <option value="ES">ES</option>
                      <option value="GO">GO</option>
                      <option value="MA">MA</option>
                      <option value="MT">MT</option>
                      <option value="MS">MS</option>
                      <option value="MG">MG</option>
                      <option value="PA">PA</option>
                      <option value="PB">PB</option>
                      <option value="PR">PR</option>
                      <option value="PE">PE</option>
                      <option value="PI">PI</option>
                      <option value="RJ">RJ</option>
                      <option value="RN">RN</option>
                      <option value="RS">RS</option>
                      <option value="RO">RO</option>
                      <option value="RR">RR</option>
                      <option value="SC">SC</option>
                      <option value="SP">SP</option>
                      <option value="SE">SE</option>
                      <option value="TO">TO</option>
                    </select>
                    <div class="invalid-feedback">Por favor, selecione um estado.</div>
                  </div>
                  <div class="col-md-4">
                    <label class="form-label" for="pais">País</label>
                    <input class="form-control" id="pais" name="pais" type="text" value="Brasil" readonly>
                  </div>
                </div>
              </div>
            </div>

            <!-- Termos e Condições -->
            <div class="form-section">
              <div class="form-section-header">
                <i class="fas fa-file-signature me-2"></i>
                Termos e Condições
              </div>
              <div class="form-section-body">
                <div class="form-check mb-3">
                  <input class="form-check-input" id="termoPrivacidade" name="termo_privacidade" required=""
                    type="checkbox">
                  <label class="form-check-label" for="termoPrivacidade">
                    Li e concordo com a <a data-bs-target="#privacidadeModal" data-bs-toggle="modal" href="#">Política
                      de Privacidade</a> *
                  </label>
                  <div class="invalid-feedback">Você deve concordar com a política de privacidade.</div>
                </div>
                <div class="form-check mb-3">
                  <input class="form-check-input" id="termoUso" name="termo_uso" required="" type="checkbox">
                  <label class="form-check-label" for="termoUso">
                    Li e concordo com os <a data-bs-target="#termosModal" data-bs-toggle="modal" href="#">Termos de
                      Uso</a> *
                  </label>
                  <div class="invalid-feedback">Você deve concordar com os termos de uso.</div>
                </div>
                <div class="alert alert-info">
                  <i class="fas fa-info-circle me-2"></i>
                  <small>Seus dados serão utilizados apenas para fins de cadastro no sistema PLI e não serão
                    compartilhados com terceiros.</small>
                </div>
              </div>
            </div>

            <!-- Finalização do Cadastro -->
            <div class="form-section">
              <div class="form-section-header">
                <i class="fas fa-paper-plane me-2"></i>
                Finalizar Cadastro
              </div>
              <div class="form-section-body">
                <div class="d-flex gap-3">
                  <a href="/auth" class="btn btn-light btn-lg flex-fill border-2">
                    <i class="fas fa-home me-2"></i>
                    Voltar ao Início
                  </a>
                  <button class="btn btn-primary btn-lg flex-fill" type="submit">
                    <i class="fas fa-paper-plane me-2"></i>
                    Enviar Cadastro
                  </button>
                </div>
              </div>
            </div>
          </form>

          <!-- Sistema de Feedback Moderno -->
          <div class="cadastro-pessoa-juridica__progress-container--div" id="progressContainer">
            <div class="cadastro-pessoa-juridica__progress-steps--div">
              <div class="cadastro-pessoa-juridica__progress-step--div" id="step-validation">Validação</div>
              <div class="cadastro-pessoa-juridica__progress-step--div" id="step-processing">Processamento</div>
              <div class="cadastro-pessoa-juridica__progress-step--div" id="step-sending">Enviando</div>
              <div class="cadastro-pessoa-juridica__progress-step--div" id="step-complete">Concluído</div>
            </div>
            <div class="cadastro-pessoa-juridica__progress-message--div" id="progressMessage">Preparando solicitação...
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Modal de Política de Privacidade -->
    <div aria-hidden="true" class="modal fade" id="privacidadeModal" tabindex="-1">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"><i class="fas fa-shield-alt me-2"></i>Política de Privacidade</h5>
            <button aria-label="Fechar" class="btn-close" data-bs-dismiss="modal" type="button"></button>
          </div>
          <div class="modal-body">
            <h6>1. Coleta de Dados</h6>
            <p>Coletamos informações da instituição como razão social, CNPJ, endereço, telefone e email para fins de
              cadastro no sistema PLI.</p>
            <h6>2. Uso dos Dados</h6>
            <p>Seus dados serão utilizados exclusivamente para:</p>
            <ul>
              <li>Identificação e autenticação no sistema</li>
              <li>Comunicação sobre cadastro e processos relacionados</li>
              <li>Cumprimento de obrigações legais</li>
            </ul>
            <h6>3. Armazenamento</h6>
            <p>Seus dados são armazenados em servidores seguros e protegidos por medidas técnicas adequadas.</p>
            <h6>4. Compartilhamento</h6>
            <p>Não compartilhamos seus dados com terceiros, exceto quando exigido por lei.</p>
            <h6>5. Seus Direitos</h6>
            <p>Você tem direito a acessar, corrigir e solicitar a exclusão dos seus dados, conforme a Lei Geral de
              Proteção de Dados (LGPD).</p>
          </div>
          <div class="modal-footer">
            <button class="btn btn-primary btn-lg px-4" data-bs-dismiss="modal">Entendi</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal de Termos de Uso -->
    <div aria-hidden="true" class="modal fade" id="termosModal" tabindex="-1">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title"><i class="fas fa-file-contract me-2"></i>Termos de Uso</h5>
            <button aria-label="Fechar" class="btn-close" data-bs-dismiss="modal" type="button"></button>
          </div>
          <div class="modal-body">
            <h6>1. Aceitação dos Termos</h6>
            <p>Ao utilizar o Sistema PLI, você concorda com estes termos de uso.</p>
            <h6>2. Cadastro</h6>
            <p>Você é responsável por fornecer informações verdadeiras e manter seus dados atualizados.</p>
            <h6>3. Uso do Sistema</h6>
            <p>O sistema deve ser utilizado apenas para os fins a que se destina, sendo proibido:</p>
            <ul>
              <li>Utilizar dados falsos</li>
              <li>Tentar acessar áreas restritas sem autorização</li>
              <li>Realizar ações que possam danificar ou sobrecarregar o sistema</li>
            </ul>
            <h6>4. Responsabilidades</h6>
            <p>Você é responsável por todas as atividades realizadas com seu cadastro.</p>
            <h6>5. Alterações nos Termos</h6>
            <p>Estes termos podem ser alterados a qualquer momento, sendo sua responsabilidade verificá-los
              periodicamente.</p>
          </div>
          <div class="modal-footer">
            <button class="btn btn-primary btn-lg px-4" data-bs-dismiss="modal">Entendi</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal de Sucesso -->
    <div aria-hidden="true" class="modal fade" id="successModal" tabindex="-1">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title text-success"><i class="fas fa-check-circle me-2"></i>Cadastro Solicitado com Sucesso
            </h5>
            <button aria-label="Fechar" class="btn-close" data-bs-dismiss="modal" type="button"></button>
          </div>
          <div class="modal-body">
            <div class="text-center mb-4">
              <i class="fas fa-check-circle text-success pli-icon-4rem"></i>
            </div>
            <p>Sua solicitação de cadastro foi recebida com sucesso!</p>
            <p>Um email de confirmação foi enviado para o endereço informado.</p>
            <div class="alert alert-info">
              <i class="fas fa-info-circle me-2"></i>
              Seu cadastro será analisado pela nossa equipe e você receberá uma resposta em breve.
            </div>
          </div>
          <div class="modal-footer">
            <a class="btn btn-primary btn-lg px-4" href="/">
              <i class="fas fa-home me-2"></i>
              Ir para Página Inicial
            </a>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="login__l-footer--footer dashboard-footer">
    <div class="pli-footer pli-footer--compact">
      <div class="pli-footer__container container">
        <div class="pli-footer__content footer-content">
          <div class="pli-footer__group footer-section">
            <div class="pli-footer__logo">
              <i class="fas fa-building me-1"></i>
              SIGMA-Sistema de Gerenciamento de Cadastro
            </div>
          </div>
          <nav class="pli-footer__links footer-section">
            <a class="pli-footer__link" href="/auth/sobre">Sobre</a>
            <span class="pli-footer__sep">•</span>
            <a class="pli-footer__link" href="/contato">Contato</a>
            <span class="pli-footer__sep">•</span>
            <a class="pli-footer__link" href="/privacidade">Privacidade</a>
            <span class="pli-footer__sep">•</span>
            <a class="pli-footer__link" href="/termos">Termos</a>
          </nav>
        </div>
        <div class="pli-footer__bottom footer-bottom">
          <div class="pli-footer__copyright">
            © 2025 SIGMA-PLI • Módulo de Gerenciamento de Cadastros
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/static/js/M01_auth/script_cpf_cep_apis.js"></script>
  <script src="/static/js/M01_auth/script_cadastro_instituicao_handlers.js"></script>
  <script>
    // Inicializar handlers de instituição e APIs de CNPJ/CEP
    document.addEventListener('DOMContentLoaded', function () {
      // Inicializar validações de CNPJ e CEP
      if (window.CPFCEPApis) {
        window.CPFCEPApis.setupCNPJValidation('cnpj');
        window.CPFCEPApis.setupCEPConsultation('cep');
      }
    });
  </script>
</body>

</html>